# 2026年 2月 学習ログ

## 2026-02-01

### 取り組んだこと
- [光通信モールス信号受信デバイスの設計書](../projects/Apps/MorseLightReceiver/DESIGN.md)と実装計画を立てた
- [ジョイスティックモジュール](/projects/Apps/joystick-node/)とフォトレジスタの扱いを学んだ
- PID制御やギア比などについて学んだ

### 学んだこと・メモ

#### ジョイスティックモジュール

ジョイスティックは**2つのポテンショメータ**と**1つのスイッチ**で構成されている。

- X軸・Y軸の検知: スティックを倒すと、その角度に応じて内部の接触点が動き、抵抗値が変化する。これにより、出力される電圧が0-VCCで変化する。
- Z軸ボタンの検知: スティックを押すと、内部のスイッチがONになり、デジタル信号が出力される。

#### フォトレジスタ (CdSセル) の仕組み

**硫化カドミウム**という半導体でできている。
- **暗い時**: 電子が動きにくく、電気を通しにくい状態。つまり**抵抗値が高い**状態。
- **明るい時**: 光エネルギーを受けると、内部の電子が活発に飛び出し、電気が流れやすい状態。つまり**抵抗値が低い**状態。

#### 分圧回路による変換

ArduinoのA0ピンは電圧しか読めないため、この**抵抗値の変化**を**電圧の変化**に変換する必要がある。そのために、固定抵抗 (10kΩ) と直列につなぎます。

電圧は、2つの抵抗の比率で分け合われる。
`A0の電圧 = 5V × (固定抵抗 / (フォトレジスタ抵抗 + 固定抵抗))`

**具体的な変化の例:**
- **暗い時 (フォトレジスタ = 100kΩ とする)**
  - 100kΩ(大) と 10kΩ(小) で分け合うため、5Vのほとんどはフォトレジスタ側にかかり、A0地点に来る電圧は小さくなる。
  - 計算: `5V × (10k / 110k) ≒ 0.45V` (Arduinoでは `100` くらいの低い値)
- **明るい時 (フォトレジスタ = 1kΩ とする)**
  - 1kΩ(小) と 10kΩ(大) で分け合うため、A0地点には大きな電圧が来る。
  - 計算: `5V × (10k / 11k) ≒ 4.5V` (Arduinoでは `900` くらいの高い値)

この原理により、「光が当たると数値が上がる」という仕組みを作る。

#### 減速比

DCモーターは通常、1分間に数千~数万回転(rpm)という高速で回転するが、トルクは弱い。そこで、**ギアボックス**を使って減速する。

$$
\text{減速比} = \frac{\text{入力ギアの歯数}}{\text{出力ギアの歯数}}
$$

#### モータードライバー
マイコンとモーターを直接つないではいけない。マイコンは5Vの電圧でほんの少しの電流しか流せない。一方、モーターは大きな電流を必要とする。そこで、**モータードライバー**を介して増幅させる。

実際、タイヤつきロボット動かすとき、タイヤを回すのに大きな力が必要になる。この時のモーターは、普段の数倍~10倍もの電流(ストール電流)が必要になるため、電圧降下でマイコンの電源が落ちてしまうことがある。これを防ぐために**電源分離**といって、マイコン用(9V電池)とモーター用(乾電池4本直列)の電源を分けることがある。

### 次回の取り組み
モールス信号受信デバイスを完成させたい。Tinkercadでシミュレーションは出来たので、あとは配線するのみ。

電子工作、出来るようにはなってきたが、まだ「勘」のようなものが養っていない気がする。例えば、この素子をつないだ時だいたいどのくらいの抵抗を繋げればいいのかとか...

## 2026-02-02

### 取り組んだこと
- モールス信号受信デバイスの完成

### 学んだこと・メモ

#### 抵抗の選び方
LED抵抗の場合は、220-470Ωだとしっかり光る。1kΩだとまぶしくない程度に光る。

プルアップ抵抗に関しては、**10kΩ**が一般的。電流の無駄遣いが少ないため。ただ、Arduinoの場合には内部プルアップがあるので、抵抗は必須ではない。

続いて、トランジスタ。トランジスタは、ベースに電圧をかけると、エミッタからコレクタへ電流が流れる。このとき、Arduinoとベースの間にはとりあえず**1kΩ**の抵抗を入れておけば間違いない。もしこれで動かなかったら、抵抗を330Ωに下げる。
